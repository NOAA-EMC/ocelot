bufr:
  subsets:
    - NC005080
    - NC005081

  variables:
    # MetaData
    timestamp:
      datetime:
        year: "*/YEAR"
        month: "*/MNTH"
        day: "*/DAYS"
        hour: "*/HOUR"
        minute: "*/MINU"
        second: "*/SECO"

    latitude:
      # [NESDIS, EUMETSAT]
      query: "[*/CLAT, */CLATH]"

    longitude:
      # [NESDIS, EUMETSAT]
      query: "[*/CLON, */CLONH]"

    satelliteId:
      query: "*/SAID"

    sensorZenithAngle:
      query: "*/SAZA"

    sensorCentralFrequency:
      query: "*/SCCF"
      type: float

    pressure:
      # [NESDIS, EUMETSAT]
      query: "[*/PRLC, */PRLC[1]]"
      type: float

    # Processing Center
    dataProviderOrigin:
      # [EUMETSAT, NESDIS] - ordered to provide unique search term first
      query: "[*/OGCE[1], */OGCE]"

    # Generating Application - contains multiple types
    generatingApplication:
      # [NESDIS, EUMETSAT]
      query: "[*/GQCPRMS/GNAP, */AMVQIC/GNAPS]"

    # Quality Information - contains multiple types
    qualityInformation:
      # [NESDIS, EUMETSAT]
      query: "[*/GQCPRMS/PCCF, */AMVQIC/PCCF]"
      type: float

    # Wind Retrieval Method Information - Computation
    windComputationMethod:
      query: '*/SWCM'

    # ObsValue - Wind Direction
    windDirection:
      query: '*/WDIR'
      type: float

    # ObsValue - Wind Speed
    windSpeed:
      query: '*/WSPD'

encoder:
  dimensions:
    - name: event
      paths:
        - "*/GQCPRMS"
        - "*/AMVQIC"

  variables:
    # MetaData
    - name: "time"
      source: variables/timestamp
      longName: "Datetime"
      units: "seconds since 1970-01-01T00:00:00Z"

    - name: "latitude"
      source: variables/latitude
      longName: "Latitude"
      units: "degrees_north"
      range: [ -90, 90 ]

    - name: "longitude"
      source: variables/longitude
      longName: "Longitude"
      units: "degrees_east"
      range: [ -180, 180 ]

    - name: "satellite"
      source: variables/satelliteId
      longName: "Satellite Identifier"

    - name: "sensorZenithAngle"
      source: variables/sensorZenithAngle
      longName: "Sensor Zenith Angle"
      units: "degree"
      range: [0, 90]

    - name: "sensorCentralFrequency"
      source: variables/sensorCentralFrequency
      longName: "Satellite Channel Center Frequency"
      units: "Hz"

    - name: "dataProviderOrigin"
      source: variables/dataProviderOrigin
      longName: "Identification of Originating/Generating Center"

    - name: "windComputationMethod"
      source: variables/windComputationMethod
      longName: "Satellite-derived Wind Computation Method"

    - name: "pressure"
      source: variables/pressure
      longName: "Pressure"
      units: "Pa"

    - name: "windDirection"
      source: variables/windDirection
      longName: "Wind Direction"
      units: "degree"

    - name: "windSpeed"
      source: variables/windSpeed
      longName: "Wind Speed"
      units: "m s-1"

    - name: "qualityInformation"
      source: variables/qualityInformation
      longName: "Quality Information"
      units: ""
