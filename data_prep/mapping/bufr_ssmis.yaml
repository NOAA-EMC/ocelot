bufr:
  variables:
    # MetaData
    timestamp:
      datetime:
        year: "*/YEAR"
        month: "*/MNTH"
        day: "*/DAYS"
        hour: "*/HOUR"
        minute: "*/MINU"
        second: "*/SECO"

    latitude:
      query: "*/CLAT"

    longitude:
      query: "*/CLON"

    latitude1:
      query: "*/SATEPHEM{1}/CLATH"

    latitude2:
      query: "*/SATEPHEM{2}/CLATH"

    satelliteId:
      query: "*/SAID"

    scanLineNumber:
      query: "*/SLNM"

    fieldOfViewNumber:
      query: "*/FOVN"

    surfaceFlag:
      query: "*/SFLG"

    rainFlag:
      query: "*/RFLAG"

    sensorChannelNumber:
      query: "*/SSMISCHN/CHNM"

    brightnessTemperature:
      query: "*/SSMISCHN/TMBR"

encoder:
  dimensions:
    - name: Channel
      source: variables/sensorChannelNumber
      path: "*/SSMISCHN"

  variables:
    # MetaData
    - name: "MetaData/dateTime"
      source: variables/timestamp
      longName: "Datetime"
      units: "seconds since 1970-01-01T00:00:00Z"

    - name: "MetaData/latitude"
      source: variables/latitude
      longName: "Latitude"
      units: "degree_north"
      range: [-90, 90]

    - name: "MetaData/longitude"
      source: variables/longitude
      longName: "Longitude"
      units: "degree_east"

    - name: "MetaData/latitude1"
      source: variables/latitude1
      longName: "Latitude"
      units: "degree_north"
      range: [ -90, 90 ]

    - name: "MetaData/latitude2"
      source: variables/latitude2
      longName: "Latitude"
      units: "degree_north"
      range: [ -90, 90 ]

    - name: "MetaData/satelliteIdentifier"
      source: variables/satelliteId
      longName: "Satellite Identifier"

    - name: "MetaData/sensorScanPosition"
      source: variables/fieldOfViewNumber
      longName: "Field of View Number"

    - name: "MetaData/sensorChannelNumber"
      source: variables/sensorChannelNumber
      longName: "Sensor Channel Number"

    - name: "MetaData/sensorViewAngle"
      source: variables/sensorScanAngle
      longName: "Sensor View Angle"
      units: "degree"

    - name: "MetaData/earthSurfaceType"
      source: variables/surfaceFlag
      longName: "Earth Surface Type"

    - name: "MetaData/rainFlag"
      source: variables/rainFlag
      longName: "Rain Flag (1:rain; 0:no rain (clear); -1:no determined"

    - name: "MetaData/scanLineNumber"
      source: variables/scanLineNumber
      longName: "Scan Line Number"

    # ObsValue
    # Remapped Brightness Temperature
    - name: "ObsValue/brightnessTemperature"
      source: variables/brightnessTemperature
      longName: "3-by-3 Averaged Brightness Temperature"
      units: "K"
      range: [120, 500]
      chunks: [10000, 24]
