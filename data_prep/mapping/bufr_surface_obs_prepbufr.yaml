bufr:
  subsets:
    - ADPSFC
    - SFCSHP
  variables:
    obsTimeMinusCycleTime:
      query: "*/DHR"

    latitude:
      query: "*/YOB"

    longitude:
      query: "*/XOB"
      transforms:
        - wrap: [ -180.0, 180.0 ]

    # Quality Markers
    airTemperatureQuality:
      query: "*/T___INFO/T__EVENT{1}/TQM"

    specificHumidityQuality:
      query: "*/Q___INFO/Q__EVENT{1}/QQM"

    dewPointTemperatureQuality:
      query: "*/Q___INFO/Q__EVENT{1}/QQM"

    windQuality:
      query: "*/W___INFO/W__EVENT{2}/WQM"

    airPressureQuality:
      query: "*/P___INFO/P__EVENT{1}/PQM"

    heightQuality:
      query: "*/Z___INFO/Z__EVENT{1}/ZQM"

encoder:
  variables:
    # MetaData
    - name: "latitude"
      source: variables/latitude
      longName: "Latitude"
      units: "degree_north"
      range: [-90, 90]

    - name: "longitude"
      source: variables/longitude
      longName: "Longitude"
      units: "degree_east"

    - name: "airTemperatureQuality"
      source: variables/airTemperatureQuality
      longName: "Air Temperature Quality Marker"
      units: "quality_marker"

    - name: "specificHumidityQuality"
      source: variables/specificHumidityQuality
      longName: "Specific Humidity Quality Marker"
      units: "quality_marker"

    - name: "dewPointTemperatureQuality"
      source: variables/dewPointTemperatureQuality
      longName: "Dew Point Temperature Quality Marker"
      units: "quality_marker"

    - name: "windQuality"
      source: variables/windQuality
      longName: "Wind Quality Marker"
      units: "quality_marker"

    - name: "airPressureQuality"
      source: variables/airPressureQuality
      longName: "Air Pressure Quality Marker"
      units: "quality_marker"

    - name: "heightQuality"
      source: variables/heightQuality
      longName: "Height Quality Marker"
      units: "quality_marker"
