bufr:
  subsets:
    - ADPSFC
  variables:
    # MetaData
    timestamp:
      datetime:
        year: "*/YEAR"
        month: "*/MNTH"
        day: "*/DAYS"
        hour: "*/HOUR"
        minute: "*/MINU"

    observationType:
      query: '*/TYP'

    latitude:
      query: "*/YOB"

    longitude:
      query: "*/XOB"

    height:
      query: "*/Z___INFO/Z__EVENT{1}/ZOB"

    stationPressure:
      query: "*/P___INFO/P__EVENT{1}/POB"
      transforms:
        - scale: 100

    airTemperature:
      query: "*/T___INFO/T__EVENT{1}/TOB"
      transforms:
        - offset: 273.15

encoder:
  variables:
    # MetaData
    - name: "time"
      source: variables/timestamp
      longName: "Datetime"
      units: "seconds since 1970-01-01T00:00:00Z"

    - name: "latitude"
      source: variables/latitude
      longName: "Latitude"
      units: "degree_north"
      range: [-90, 90]

    - name: "longitude"
      source: variables/longitude
      longName: "Longitude"
      units: "degree_east"

    - name: "height"
      source: variables/height
      longName: "Height"
      units: "meters"

    - name: "stationPressure"
      source: variables/stationPressure
      longName: "Station Pressure"
      units: "Pa"

    - name: "airTemperature"
      source: variables/airTemperature
      longName: "Air Temperature"
      units: "K"
