Region: <REGION>

Image:
  Os: <OS>

Iam:
  Roles:
    LambdaFunctionsRole: <ADMIN_ROLE>

HeadNode:
  InstanceType: <HEAD_NODE_INSTANCE>
  Iam:
    InstanceRole: <HEAD_NODE_ROLE>
  Networking:
    SubnetId: <SUBNET_ID>
  Ssh:
    KeyName: <KEY_NAME>

Scheduling:
  Scheduler: slurm
  SlurmQueues:
    - Name: gpu
      CapacityType: SPOT
      Iam:
        InstanceRole: <COMPUTE_NODE_ROLE>
      Networking:
        SubnetIds:
          - <SUBNET_ID>
      ComputeResources:
        - Name: compute
          InstanceType: <INSTANCE_TYPE>
          MinCount: <NUM_COMPUTE_NODES>
          MaxCount: <NUM_COMPUTE_NODES>
      CustomActions:
        OnNodeStart:
          Script: <ON_NODE_START_SCRIPT>
        OnNodeConfigured:
          Script: <ON_NODE_CONFIGURED_SCRIPT>

SharedStorage:
  - Name: fsx
    StorageType: FsxLustre
    MountDir: /fsx
    FsxLustreSettings:
      DeploymentType: SCRATCH_2
      StorageCapacity: 1200
      ImportPath: <IMPORT_PATH>
      ExportPath: <EXPORT_PATH>
      AutoImportPolicy: NEW_CHANGED


